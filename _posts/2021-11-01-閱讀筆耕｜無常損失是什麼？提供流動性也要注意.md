---
layout: post
title: "閱讀筆耕｜無常損失是什麼？提供流動性也要注意"
date: 2021-11-01T05:04:29.000Z
author: 閱讀筆耕
from: https://matters.news/@penfarming/%E9%96%B1%E8%AE%80%E7%AD%86%E8%80%95-%E7%84%A1%E5%B8%B8%E6%90%8D%E5%A4%B1%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%8F%90%E4%BE%9B%E6%B5%81%E5%8B%95%E6%80%A7%E4%B9%9F%E8%A6%81%E6%B3%A8%E6%84%8F-bafyreicvfggcgr2njxsr7ts5wj3gl3s3zqvnyuuzmlvhqzicht5hjc435a
tags: [ Matters ]
categories: [ Matters ]
---
<!--1635743069000-->
[閱讀筆耕｜無常損失是什麼？提供流動性也要注意](https://matters.news/@penfarming/%E9%96%B1%E8%AE%80%E7%AD%86%E8%80%95-%E7%84%A1%E5%B8%B8%E6%90%8D%E5%A4%B1%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%8F%90%E4%BE%9B%E6%B5%81%E5%8B%95%E6%80%A7%E4%B9%9F%E8%A6%81%E6%B3%A8%E6%84%8F-bafyreicvfggcgr2njxsr7ts5wj3gl3s3zqvnyuuzmlvhqzicht5hjc435a)
------

<div>
<p>最近不少人在 <a href="https://app.osmosis.zone/" target="_blank">OSMOSIS</a> 交易所流動性挖礦，當中伴隨一個叫做「<strong>無常損失（Impermanent Loss）</strong>」的名詞，本文將力求淺白，把它給解釋清楚。</p><hr><hr><h2><strong>■ 先從 CEX 和 DEX 談起</strong></h2><p>假如你有把 LikeCoin 換成法幣的經驗，那「掛單」的地方就是中心化交易所（Centralized Exchange, <strong>CEX</strong>），<strong>價格由買賣雙方撮合，靠市場力量決定</strong>。</p><p>與之相對的是去中心化交易所（Decentralized Exchange, <strong>DEX</strong>），在這裡人人都可以發起<strong>造市</strong>，詳細地說是創建一個幣池（creat new pool），這池子包含兩種加密貨幣，構成一組交易對（trading pairs）；其他人也沒閒著，他們注水，投入自己的這兩種加密貨幣，壯大池子的流動性，所以獲得報償，是謂流動性挖礦（yield farming）。</p><p>在 DEX 交易挺有趣，連結錢包，隨插即用，有個很像<strong>自動</strong>販賣機的介面，讓你幣幣交換（swap）使用。問題來了，這裡是如何報價的？</p><p>答案是透過<strong>智能合約匹配，給定數學模型，價格由幣池中的加密貨幣數量來決定</strong>，這叫自動造市商（Automatic Market Maker, <strong>AMM</strong>）。</p><p>所以結論是 CEX 和 DEX 兩處的「價格決定」各走各的體系。</p><hr><hr><h2><strong>■ 故事的起點</strong></h2><p>假設有一組加密貨幣交易對為 LIKE／USD，在兩間交易所（CEX 與 DEX）的價格都是 1 LIKE = 0.02 USD；掏出 1000 LIKE，投入這組交易對在 DEX 的幣池，於是把本金剖半，拆成 500 LIKE 和 10 USD⋯⋯。</p><p>方才段提到 DEX 是<strong>用智能合約（數學模型）來調整報價</strong>，假定背後有一條「兩幣數量相乘，要釘住固定值」的關係式，即 LIKE 數 * USD 數 = 5000。</p><p>例子中的數值本身並不重要，只是方便引出概念，使之具體化，示意圖如下 ⇩：</p><figure class="image"><img src="https://assets.matters.news/embed/fa383a73-3337-409b-9b61-157b3ef13331.png" data-asset-id="fa383a73-3337-409b-9b61-157b3ef13331" referrerpolicy="no-referrer"><figcaption><span>釋例：初始數值</span></figcaption></figure><hr><hr><h2><strong>■ 先感受一下動態調整</strong></h2><p>現在你想把流動池中的 1 LIKE 換走，所以 USD 數量會增加 y，問題是會增加多少呢？這就是智能合約（數學模型）要去匹配的。在本例子中，是去解這方程：</p><pre class="ql-syntax">(500 - 1) * (10 + y) = 5000</pre><p>求得 y = 0.02004008016032064，這也是你在自動販賣機上看到的報價。報價不再是 1 LIKE = 0.02 了，它動了。</p><p>假如你又換走 1 LIKE，這回換個變數名稱，令 USD 數量增加 x，得到新的報價是 x = 0.020120562409961126 ⇩，它又動了，<strong>也更貴了，報價是一連串動態調整</strong>。</p><figure class="image"><img src="https://assets.matters.news/embed/41991b92-96c6-4c31-833d-91dfb9485750.png" data-asset-id="41991b92-96c6-4c31-833d-91dfb9485750" referrerpolicy="no-referrer"><figcaption><span>求解 x（第二次換走 1 LIKE 的新報價）</span></figcaption></figure><p>以上所言用示意圖來表示 ⇩：</p><figure class="image"><img src="https://assets.matters.news/embed/db4f0f18-c267-467f-84dd-03329044f9bb.png" data-asset-id="db4f0f18-c267-467f-84dd-03329044f9bb" referrerpolicy="no-referrer"><figcaption><span>智能合約報價是一連串動態調整。</span></figcaption></figure><p>兩幣之間若是穩定，則幣幣交換（swap）的力道此消彼長，你來我往，好像一場不分軒輊的拔河。兩幣的「<strong>數量比</strong>」多半圍繞在當初投入的 500：10 左右拉扯，先不論獎勵，屆時當你想要（依據持份）解綁提領時，可以預期拿回來的兩幣相對數量，和當初的比例差不多，例如來到 550：11 之類的。</p><p>那你一定想問，萬一不穩定呢？即 CEX 那邊出現匯率暴起暴落的現象。</p><hr><hr><h2><strong>■ 某一幣相對大漲（另一幣相對大跌）</strong></h2><p>假設在 CEX 那邊，LIKE 大漲，市價來到了 1 LIKE = 0.03 USD，則敏銳的交易者，瞧見 DEX 這邊有一批好便宜的牛肉 1 LIKE = 0.02 USD，勢必會來這邊拼命「搬磚」換走 LIKE（會使池子裡的 USD 數量增加），搬去 CEX 那邊賣掉。</p><p>上一大段釋例，我們知道智能合約報價是<strong>一連串動態調整</strong>，而且一直朝同一個方向「搬磚」也讓價格<strong>節節</strong>提高，直至和 CEX 那邊差不多，無利可圖時。示意圖如下 ⇩：</p><figure class="image"><img src="https://assets.matters.news/embed/54a2eaa5-a718-41e3-8921-a8357b66d63f.png" data-asset-id="54a2eaa5-a718-41e3-8921-a8357b66d63f" referrerpolicy="no-referrer"><figcaption><span>LIKE 大漲，搬磚工來到 DEX 換走 LIKE，拿去 CEX 套利變現</span></figcaption></figure><hr><hr><h2><strong>■ 無常損失</strong></h2><p>終於可以談無常損失（Impermanent Loss）的概念了。</p><p>這「無常」一詞有點抽象，其實譯為<strong>非恆常性損失、非永久性損失</strong>更貼切，意思是損失是暫時的，是帳面上的，是未實現的。</p><p>更白話地說，<strong>它是計算「單純持有兩貨幣 vs 拿去流動性挖礦」在某一特定時間點，兩者價值的差額</strong>，回到剛剛的大漲（1 LIKE = 0.03 USD）情境，此時的非恆常性損失試算如下 ⇩：</p><figure class="image"><img src="https://assets.matters.news/embed/7aba435f-ce40-4b93-8959-a4499a0c1660.png" data-asset-id="7aba435f-ce40-4b93-8959-a4499a0c1660" referrerpolicy="no-referrer"><figcaption><span>無常損失的概念</span></figcaption></figure><p>數值本身不太重要，感受到「有差額存在」就好。</p><p>所以單純持幣反而賺更多？倒也未必，因為釋例中並<strong>未考慮幣池獎勵</strong>，只是要讓大家知悉，<strong>參與流動性挖礦時，幣種愈不穩定，帳面上的非恆常性損失口子也愈大</strong>。</p><p>覺得非恆常性損失的概念，像是經濟學中機會成本（opportunity cost）的映射。前者強調做了某件事的風險，按兵不動不一定虧；後者則關注沒做某件事（放棄機會）的代價，<a href="https://matters.news/@penfarming/%E5%A6%82%E4%BD%95%E6%94%B9%E8%AE%8A%E4%B8%80%E5%80%8B%E4%BA%BA-%E5%9C%A8%E8%81%B7%E5%A0%B4%E4%B8%AD%E7%9A%84%E6%87%89%E7%94%A8-bafyreicfgllh5tydhgc3oybow4jwlsgdbg4majprq7cc3uhk6ashuwo5yy" target="_blank">維持現狀並不安全</a>。</p><blockquote>⚠️ 重點回顧：<br class="smart">① CEX 和 DEX 的「價格決定」各走各的體系。<br class="smart">② AMM 智能合約報價是一連串動態調整。<br class="smart">③ 搬磚工如何實現套利。<br class="smart">④ 非恆常性損失是計算「單純持幣 vs 流動性挖礦」在特定時點，兩者價值的差額。<br class="smart">⑤ 參與流動性挖礦時，幣種愈不穩定，帳面上的非恆常性損失口子也愈大。<br class="smart"></blockquote><hr><hr><p>謝謝各位看到這邊，隨文附上我的〔<strong>讚賞公民 2.0</strong>〕〔<strong>圍爐</strong>〕〔<strong>其它平台</strong>〕鏈結，歡迎來逛逛 ❤️。</p><p>🌱 第三季社區活動進行中 <a href="https://matters.news/@penfarming/%E9%96%B1%E8%AE%80%E7%AD%86%E8%80%95-%E7%94%A8-notion-%E5%BD%99%E6%95%B4%E9%80%B2%E8%A1%8C%E4%B8%AD%E7%9A%84%E7%A4%BE%E5%8D%80%E6%B4%BB%E5%8B%95-bafyreifkiah53y3aodvag6or5r3tkekikev4aouitdjg3irl5gn5dc5roy" target="_blank"><strong>彙整表單＋說明</strong></a><br class="smart">❏<br class="smart">🌱 成為我的讚賞公民 👇<strong><br class="smart"></strong><a href="https://liker.land/leo7283/civic" target="_blank"><strong>https://liker.land/leo7283/civic</strong></a> 獲邀進圍爐<strong><br class="smart"></strong>❏<strong><br class="smart"></strong>🌱 追蹤<strong>【</strong><a href="https://matters.news/~penfarming" target="_blank"><strong>中書神經系統</strong></a><strong>】</strong>廣播資訊不漏接<strong><br class="smart"></strong>好書金句／書市快訊／心智圖（Mind Map）<strong><br class="smart"></strong>❏<strong><br class="smart">🌱 </strong>我在其它平台出沒<strong> 👇<br class="smart">【</strong><a href="https://www.facebook.com/penfarming" target="_blank"><strong>Facbook</strong></a><strong>｜</strong><a href="https://liker.social/@Penfarning" target="_blank"><strong>Mastodon</strong></a><strong>｜</strong><a href="https://medium.com/%E9%96%B1%E8%AE%80%E7%AD%86%E8%80%95" target="_blank"><strong>Medium</strong></a><strong>｜</strong><a href="https://vocus.cc/penfarming/home" target="_blank"><strong>Vocus</strong></a><strong>｜</strong><a href="https://www.potatomedia.co/profile/a2a5c973-e410-4525-b94b-420ffe385348" target="_blank"><strong>Potato</strong></a><strong>】</strong></p>
</div>
